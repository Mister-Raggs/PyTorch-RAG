{
  "doc_id": "03be4c21ed6bc8524b4124f1d0d55645",
  "source": "pytorch_docs",
  "title": "torch.monitor \u2014 PyTorch 2.9 documentation",
  "text": "\n## torch.monitor#\n\nCreated On: Jan 12, 2022 | Last Updated On: Jun 11, 2025\nWarning\nThis module is a prototype release, and its interfaces and functionality may\nchange without warning in future PyTorch releases.\ntorch.monitorprovides an interface for logging events and counters from\nPyTorch.\ntorch.monitor\nThe stat interfaces are designed to be used for tracking high level metrics that\nare periodically logged out to be used for monitoring system performance. Since\nthe stats aggregate with a specific window size you can log to them from\ncritical loops with minimal performance impact.\nFor more infrequent events or values such as loss, accuracy, usage tracking the\nevent interface can be directly used.\nEvent handlers can be registered to handle the events and pass them to an\nexternal event sink.\n\n## API Reference#\n\nThese are types of aggregations that can be used to accumulate stats.\nMembers:\nVALUE returns the last value to be added.\nMEAN computes the arithmetic mean of all the added values.\nCOUNT returns the total number of added values.\nSUM returns the sum of the added values.\nMAX returns the max of the added values.\nMIN returns the min of the added values.\nStat is used to compute summary statistics in a performant way over\nfixed intervals. Stat logs the statistics as an Event once everywindow_sizeduration. When the window closes the stats are logged\nvia the event handlers as atorch.monitor.Statevent.\nwindow_size\ntorch.monitor.Stat\nwindow_sizeshould be set to something relatively high to avoid a\nhuge number of events being logged. Ex: 60s. Stat uses millisecond\nprecision.\nwindow_size\nIfmax_samplesis set, the stat will cap the number of samples per\nwindow by discardingaddcalls oncemax_samplesadds have\noccurred. If it\u2019s not set, alladdcalls during the window will be\nincluded. This is an optional field to make aggregations more directly\ncomparable across windows when the number of samples might vary.\nmax_samples\nmax_samples\nadd\nWhen the Stat is destructed it will log any remaining data even if the\nwindow hasn\u2019t elapsed.\nConstructs theStat.\nStat\nAdds a value to the stat to be aggregated according to the\nconfigured stat type and aggregations.\nNumber of data points that have currently been collected. Resets\nonce the event has been logged.\nReturns the current value of the stat, primarily for testing\npurposes. If the stat has logged and no additional values have been\nadded this will be zero.\nThe name of the stat that was set during creation.\ndata_value_t is one ofstr,float,int,bool.\nstr\nfloat\nint\nbool\nEvent represents a specific typed event to be logged. This can represent\nhigh-level data points such as loss or accuracy per epoch or more\nlow-level aggregations such as through the Stats provided through this\nlibrary.\nAll Events of the same type should have the same name so downstream\nhandlers can correctly process them.\nConstructs theEvent.\nEvent\nThe structured data contained within theEvent.\nEvent\nThe name of theEvent.\nEvent\nThe timestamp when theEventhappened.\nEvent\nEventHandlerHandle is a wrapper type returned byregister_event_handlerused to unregister the handler viaunregister_event_handler. This cannot be directly initialized.\nregister_event_handler\nunregister_event_handler\nlog_event logs the specified event to all of the registered event\nhandlers. It\u2019s up to the event handlers to log the event out to the\ncorresponding event sink.\nIf there are no event handlers registered this method is a no-op.\nregister_event_handler registers a callback to be called whenever an\nevent is logged vialog_event. These handlers should avoid blocking\nthe main thread since that may interfere with training as they run\nduring thelog_eventcall.\nlog_event\nlog_event\nunregister_event_handler unregisters theEventHandlerHandlereturned\nafter callingregister_event_handler. After this returns the event\nhandler will no longer receive events.\nEventHandlerHandle\nregister_event_handler\nTensorboardEventHandler is an event handler that will write known events to\nthe provided SummaryWriter.\nThis currently only supportstorch.monitor.Statevents which are logged\nas scalars.\ntorch.monitor.Stat\nExample\n\n```python\n>>> from torch.utils.tensorboard import SummaryWriter\n>>> from torch.monitor import TensorboardEventHandler, register_event_handler\n>>> writer = SummaryWriter(\"log_dir\")\n>>> register_event_handler(TensorboardEventHandler(writer))\n\n```\n\nConstructs theTensorboardEventHandler.\nTensorboardEventHandler",
  "url": "https://pytorch.org/docs/stable/monitor.html",
  "metadata": {
    "section": null,
    "issue_number": null,
    "labels": null,
    "answer_author": null
  }
}